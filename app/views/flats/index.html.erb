<div class="container pt-3">

  <h1>Our <%= @flats.length %> flats</h1>

  <% unless params[:query].nil? || params[:query].empty? %>
    Search results for <strong><%= params[:query] %></strong>:
  <% end %>

  <ul class="row row-cols-1 row-cols-md-3 g-4 list-unstyled">
  <% @flats.each do |flat| %>
    <li class="col">
      <div class="card h-100">
        <img src=<%= flat.picture_url %> class="card-img-top" alt="<%= "#{flat.name} - Picture" %>">
        <div class="card-body">
          <h5 class="card-title"><%= link_to flat.name, flat_path(flat) %></h5>
          <p class="card-text"><%= flat.address %></p>
        </div>
        <div class="card-footer bg-white d-flex justify-content-around align-items-center w-100">
          <span class="flat-data">
            <i class="fa-solid fa-people-roof"></i>
            <%= flat.number_of_guests %>
          </span>
          <span class="flat-data">
            <i class="fa-solid fa-euro-sign"></i>
            <%= flat.price_per_night %>
          </span>
        </div>
        <div class="card-footer d-flex justify-content-between align-items-center w-100">
          <%= link_to "More info", flat_path(flat), class: "text-primary flat-action" %>
          <%= link_to "Edit", edit_flat_path(flat), class: "text-warning flat-action" %>
          <%= link_to "Remove", flat_path(flat), class: "text-danger flat-action", data: { "turbo-method": "delete", "turbo-confirm": "Are you sure?" } %>
        </div>
      </div>
    </li>
    <% end %>
  </ul>

</div>
